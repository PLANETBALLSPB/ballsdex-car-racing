fetch("race.json")
  .then(res => res.json())
  .then(data => startRace(data))
  .catch(err => console.error(err));

function startRace(data) {
  const track = document.getElementById("track");

  const car1 = document.createElement("div");
  car1.className = "car car1";
  car1.textContent = data.player1.name;

  const car2 = document.createElement("div");
  car2.className = "car car2";
  car2.textContent = data.player2.name;

  track.appendChild(car1);
  track.appendChild(car2);

  let pos1 = 0;
  let pos2 = 0;

  const interval = setInterval(() => {
    pos1 += data.player1.speed;
    pos2 += data.player2.speed;

    car1.style.left = pos1 + "px";
    car2.style.left = pos2 + "px";

    if (pos1 >= 600 || pos2 >= 600) {
      clearInterval(interval);
    }
  }, 100);
}
